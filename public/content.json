[{"title":"linux实用脚本","date":"2018-02-02T07:37:53.000Z","path":"2018/02/02/linux实用脚本/","text":"使用shell脚本操作数据库 脚本代码 12345678#! /bin/bashmysql -uroot -p123 -e \"show databases;use MQTT;show tables;show columns from sht31;\" 效果 12345678910111213141516171819202122232425geek@geek-PC:~/hexo$ ../code/sqlopt.shmysql: [Warning] Using a password on the command line interface can be insecure.+--------------------+| Database |+--------------------+| information_schema || MQTT || mysql || performance_schema || sys |+--------------------++----------------+| Tables_in_MQTT |+----------------+| sht31 |+----------------++----------+-------------+------+-----+---------+-------+| Field | Type | Null | Key | Default | Extra |+----------+-------------+------+-----+---------+-------+| sht_time | datetime | YES | | NULL | || sht_temp | smallint(6) | YES | | NULL | || sht_hum | smallint(6) | YES | | NULL | || id | int(11) | YES | | NULL | |+----------+-------------+------+-----+---------+-------+ERROR 1064 (42000) at line 6: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'quit' at line 1 批量修改文件后缀名123456789#!/bin/bashfor filename in `ls ./ |grep $1 ` do echo \"原文件名：$filename\" newname=$&#123;filename/%$1/$2&#125; echo \"新文件名：$newname\" mv $filename $newname done","tags":[{"name":"Linux","slug":"Linux","permalink":"http://www.3cat.top/tags/Linux/"},{"name":"Shell","slug":"Shell","permalink":"http://www.3cat.top/tags/Shell/"}]},{"title":"openwrt极路由交叉编译踩坑记","date":"2018-01-26T15:12:44.000Z","path":"2018/01/26/路由器ipk软件编译笔记/","text":"简介 本次尝试对极路由4增强版进行openwrt交叉编译，从而实现在路由器上搭建mqtt的broker。本文主要学习如何编译合适的软件包。一般来说openwrt直接通过opkg软件源安装，但学会交叉编译可以利用源代码编译路由器软件 操作环境 电脑系统：Linux 路由器：极路由4增强版，官方固件（已进入开发者模式） openwrt编译系统：LEDE openwrt编译过程学习 参考宾神博客openwrt交叉编译教程,这里就不多做描述了。 如何进行编译配置 环境搭建好以后，在对应文件夹下输入命令make menuconfig,打开编译配置程序， 以下内容为个人猜测 固件类型(Target Sytem)：openwrt是一个强大的开源系统，许多人共同维护，提交了许多不同的分支，从而有了不同的固件类型。 处理器型号(SubTarget)：不同的固件类型支持的硬件也不同，稍后我会介绍如何快速找到适合自己路由器系统的方式。 路由器型号（Target Profile)。 快速找到路由器对应版本 首先确定自己路由器已经安装的固件信息。ssh登录路由器，针对我使用的路由器，ssh -p 1022 root@192.168.199.1。按提示登录后，输入cat /proc/cpuinfo,查看固件和硬件信息。 现在你再回到上一张图片，自习观察我圈出的信息，发现了什么？ 编译类型看配置窗口上面提示，解释下 built-in: 编译进.bin二进制文件 exclude：不编译 module：编译成ipk软件包 使用ssh将软件包发送到路由器内1scp -P 1022 '/home/hch/Downloads/libmosquitto-nossl_1.4.14-1_mips_24kc.ipk' root@192.168.199.1:/tmp 安装1opkg install softname 安装失败以及懒人解决办法提示invalid architecture，应该是极路由官方固件与我们选择的固件不是一个内核导致软件不兼容。最终还是在lede下了编译好的固件。发现该固件没有管理页面。 opkg install luci 重启路由器，OK了，有openwrt源什么都好办了，接下来安装了mosquitto,搭好了mqtt的broker。","tags":[{"name":"openwrt","slug":"openwrt","permalink":"http://www.3cat.top/tags/openwrt/"}]},{"title":"linux实用操作积累","date":"2018-01-25T18:38:07.000Z","path":"2018/01/26/linux实用操作/","text":"shell脚本 由多个linux指令集成在一个命令文件中 脚本执行命令：./shellname.sh 文件理论上可以使用任何后缀名，但shell脚本规范为.sh后缀 可以使用任何编辑器编辑 脚本以#!/bin/bash开头，表示使用/bin目录下的bash程序来解释执行脚本 编写好后需要使用chmod +x filename给相应脚本文件执行权限，否则无法使用常规命令执行脚本 示例 12345678#！/bin/bashwhile [ $x -ne 1000 ] do echo \"这是第$x秒,1000秒时结束计数！\"; x=$(($x+1)) #这样才不会被理解为字符串 sleep 1s #延迟1s done 查看文件夹大小 du -d 1 -h :查看深度为1的文件夹大小 Bash字符串处理123456789101112131415161718192021222324252627#基于Pattern Matching的子串替换$&#123;STR/$OLD/$NEW&#125;#替换第一个。$&#123;STR//$OLD/$NEW&#125;#替换所有。$&#123;STR/#$OLD/$NEW&#125;#替换开头。如果STR以OLD串开头，则替换。$&#123;STR/%$OLD/$NEW&#125;#替换结尾。如果STR以OLD串结尾，则替换。[user@laptop ~]# STR=”Hello World”[user@laptop ~]# echo $&#123;STR/o/O&#125;HellO World[user@laptop ~]# echo $&#123;STR//o/O&#125;HellO WOrld[user@laptop ~]# STR=”Hello World”[user@laptop ~]# echo $&#123;STR/#He/he&#125;hello World[user@laptop ~]# echo $&#123;STR/#o/he&#125;Hello World[user@laptop ~]# echo $&#123;STR/%He/he&#125;Hello World[user@laptop ~]# echo $&#123;STR/%ld/lD&#125;Hello WorlD#注意：不能使用正则表达式，只能使用?*的Shell扩展。只能用shell通配符如 * ? [list] [!list] [a-z]。#如果被替换串包含/字符，那么要转义，写成\\/。 统计命令 wc1234567Usage: wc [选项] [输入流文件]Count lines, words, and bytes for each FILE (or stdin) -c Count bytes -l Count newlines -w Count words -L Print longest line length 管道命令 命令1 | 命令2 ：把命令1的输出作为命令2的输入。 例如opkg list *zh*| grep luci | grep base,这个命令使用了通配符*和两个管道命令，从而显示出opkg安装列表中同时包含zh、luci、base三个子串的软件包。 ls -al | wc -l 统计当前文件夹下文件个数并输出 文件查找 find命令 find [路径] [表达式选项] [动作表达式] 例如：find /home 3.jpg (动作表达默认为print)","tags":[{"name":"Linux","slug":"Linux","permalink":"http://www.3cat.top/tags/Linux/"},{"name":"Shell","slug":"Shell","permalink":"http://www.3cat.top/tags/Shell/"}]},{"title":"deepin系统安装及使用教程","date":"2018-01-17T12:08:58.000Z","path":"2018/01/17/deepin系统安装及使用教程/","text":"deepin是国人基于Ubuntu 开发而来的一款Linux系统，世界排名第七。现在已经用了三天了，感觉还是很棒的。安装过够发现再没进过Windows，干脆就把之前装win的固态硬盘格式化用来装了deepin，速度瞬间快了不少。 这款系统最大的特点，毫无疑问是它对国人常用的软件的支持，这是其他linux系统难以实现的。deepin预装了ＱＱ，ＷＰＳ,网易云音乐，搜狗输入法。此外，还支持迅雷等一大波Windows下的软件。日常办公完全OK。这是其他Linux系统无法 与我用过的Centos，Ubuntu相比，出了软常用软件的支持这一大杀器之外，我再说所其他优缺点。这三款系统的图形界面都比较清爽漂亮，最开始笔者装了Ubuntu，但是笔者电脑（惠普 光影精灵二代）使用Ubuntu很不稳定，经常出现卡死的情况，所以后来换到了centos,果然稳定了不少，但是发现centos软件支持太少了，没有网易云，没有搜狗，Linux就成了电脑里的幽灵（我之前一直保持Linux和win10双系统），几乎没有再怎么用过。相比之下，deepin图形界面稳定，软件支持广（有QQ和WPS的Linux真心幸福）。但缺点也有，就是之前装在机械硬盘上的时候，打开软件比较慢，可见Linux的磁盘IO优化不如Windows好。（事实上其他Linux系统也是如此）。 与windows比较，图形化的软件规模，deepin一样铁定被Windows秒成渣。但是，Linux也优点摆在那，清爽无广告以及强大的终端… 下面来几张美照","tags":[{"name":"deepin","slug":"deepin","permalink":"http://www.3cat.top/tags/deepin/"},{"name":"Linux","slug":"Linux","permalink":"http://www.3cat.top/tags/Linux/"}]},{"title":"markdown语法笔记","date":"2017-12-22T11:57:30.000Z","path":"2017/12/22/markdown语法笔记/","text":"记录了一般博客常用的功能所需语法 Markdown简介Markdown是一种可以使用普通文本编辑器编写的标记语言，通过简单的标记语法，它可以使普通文本内容具有一定的格式。事实上Markdow完全兼容HTML的语法，但使用Markdown排版非常简单。公认说法：让笔客可以专注于文字，不用花太多精力来排版。以下将其简称为md，本文使用Atom for Win编辑器实现。 代码篇 如果你只想高亮语句中的某个函数名或关键字： 输入：`function_name()` (反单引号,英文状态下，esc下面那个键) 显示：function_name() 插入代码块： 输入：上面的c++可替换其他编程语言简写，md支持多种编程语法高亮 显示效果 123456789int akm(int m, int n)&#123;if(m == 0) return (n+1);else if(n == 0) return akm(m-1, n);else return akm(m-1, akm(m, n-1));&#125; 标题篇md可轻松实现标题分级 输入： 12345# 一级标题## 二级标题### 三级标题#### 四级标题##### 五级标题 显示： 一级标题二级标题三级标题四级标题五级标题 引用篇 一级引用 输入：> 引用文本内容 显示： 引用文本内容 多级引用 输入： 12345&gt;11111&gt;&gt;22222&gt;&gt;&gt;33333&gt;&gt;&gt;&gt;44444&gt;&gt;&gt;&gt;&gt;55555 显示： 11111 22222 33333 44444 55555 着重格式 输入 12341. *你好，world*2. _你好，world_3. **你好，world**4. __你好，world__ 显示 你好，world 你好，world 你好，world 你好，world 分割线可以使用连续三个或三个以上的*或-或_实现分割线，例如 输入：*** 显示： 图片插入 放一张高中暑假在青海拍的美景 ![我是图片](图片链接)，例如：![茶卡盐湖](https://raw.githubusercontent.com/geekhch/hexo/master/images/markdown/4.jpg?raw=true)显示效果为 链接跳转 隐式链接跳转与图片相似，只需要去掉前面的感叹号。 输入：[3CAT&#39;S Blog](http://www.3cat.top/myblog/) 效果：3CAT’S Blog 插入视频因md兼容HTML，可以直接将视频网站的视频分享代码贴到文档中例如输入：123&lt;embed src='http://player.youku.com/player.php/sid/XMzE0ODM1ODg1Ng==/v.swf'allowFullScreen='true' quality='high' width=\"100%\" height='385' align='middle'allowScriptAccess='always' type='application/x-shockwave-flash'&gt; 效果：","tags":[{"name":"markdown","slug":"markdown","permalink":"http://www.3cat.top/tags/markdown/"}]}]